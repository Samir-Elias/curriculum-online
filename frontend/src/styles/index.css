/* Archivo principal que importa todos los módulos CSS */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles */
@import './base/reset.css';
@import './base/typography.css';
@import './base/variables.css';

/* Layout */
@import './layout/container.css';
@import './layout/responsive.css';
@import './layout/hero.css';
@import './layout/footer.css';
@import './layout/section-layouts.css';

/* Components */
@import './components/cards.css';
@import './components/buttons.css';
@import './components/badges.css';
@import './components/modals.css';
@import './components/slider.css';
@import './components/avatar.css';
@import './components/loading.css';
@import './components/education-section.css';
@import './components/objective-section.css';
@import './components/dual-cards-layout.css';
@import './components/scroll-checkpoints.css'; /* NUEVO */
@import './components/checkpoint-projects.css';
@import './components/linkedin-badge.css';
@import './components/mobile-projects.css';
@import './components/conflicts-fix.css';  /* siempre al final */

/* Effects and animations */
@import './effects/animations.css';
@import './effects/visual-effects.css';
@import './effects/hover-effects.css';
@import './effects/section-effects.css';
@import './effects/slide-animations.css';

/* Themes */
@import './themes/colors.css';
@import './themes/shadows.css';

/* Utilities */
@import './utils/responsive-fixes.css';
@import './utils/print.css';
@import './utils/debugging.css';
@import './utils/section-responsive.css';

/* ==========================================================================
   PROYECTOS CON SCROLL SNAPPING - ESTILOS ADICIONALES
   ========================================================================== */

/* Smooth scroll global mejorado */
html {
  scroll-behavior: smooth;
  scroll-padding-top: 2rem;
}

/* Container principal con mejor espaciado para checkpoints */
.container {
  position: relative;
}

/* Espaciado específico para secciones con checkpoints */
section[id] {
  scroll-margin-top: 4rem;
  scroll-margin-bottom: 2rem;
}

/* Mejoras específicas para la sección de proyectos */
#projects {
  position: relative;
}

/* Indicador visual sutil cuando una sección está activa */
section[id].active-checkpoint {
  position: relative;
}

section[id].active-checkpoint::before {
  content: '';
  position: absolute;
  top: -1rem;
  left: 50%;
  transform: translateX(-50%);
  width: 40px;
  height: 3px;
  background: linear-gradient(90deg, #3b82f6, #10b981);
  border-radius: 2px;
  opacity: 0.6;
  animation: activeIndicator 2s ease infinite;
}

@keyframes activeIndicator {
  0%, 100% {
    opacity: 0.6;
    transform: translateX(-50%) scale(1);
  }
  50% {
    opacity: 1;
    transform: translateX(-50%) scale(1.1);
  }
}

/* Mejoras para el scroll de proyectos específicamente */
.projects-scroll-enhanced {
  scroll-snap-type: y proximity;
}

.projects-scroll-enhanced .scroll-snap-item {
  scroll-snap-align: center;
  scroll-snap-stop: normal;
}

/* Estados de carga mejorados */
.checkpoint-section-loading {
  opacity: 0.8;
  pointer-events: none;
  transition: opacity 0.3s ease;
}

.checkpoint-section-loading.loaded {
  opacity: 1;
  pointer-events: auto;
}

/* Responsive mejoras para checkpoints */
@media (max-width: 1024px) {
  section[id] {
    scroll-margin-top: 3rem;
  }
  
  section[id].active-checkpoint::before {
    width: 30px;
    height: 2px;
  }
}

@media (max-width: 768px) {
  section[id] {
    scroll-margin-top: 2rem;
  }
  
  section[id].active-checkpoint::before {
    display: none; /* Ocultar en móvil para evitar distracción */
  }
}

/* Print styles para checkpoints */
@media print {
  section[id] {
    scroll-margin: 0;
    page-break-inside: avoid;
  }
  
  section[id].active-checkpoint::before {
    display: none;
  }
  
  .checkpoint-section-loading {
    opacity: 1 !important;
    pointer-events: auto !important;
  }
}

/* Accesibilidad mejorada */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
  
  section[id].active-checkpoint::before {
    animation: none !important;
  }
  
  .checkpoint-section-loading {
    transition: none !important;
  }
}

/* Focus visible para navegación por teclado */
section[id]:focus-visible {
  outline: 3px solid #3b82f6;
  outline-offset: 4px;
  border-radius: 8px;
}

/* Estados para high contrast */
@media (prefers-contrast: high) {
  section[id].active-checkpoint::before {
    background: #000;
    opacity: 1;
  }
}

/* Mejoras específicas para el componente ScrollCheckpoints */
.scroll-checkpoints-container {
  position: relative;
  z-index: 1;
}

/* Prevenir conflictos con otros elementos flotantes */
.scroll-checkpoints-overlay {
  pointer-events: none;
}

.scroll-checkpoints-overlay > * {
  pointer-events: auto;
}