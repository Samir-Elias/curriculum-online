/* ==========================================================================
   CONFLICTS FIX - DESACTIVAR SCROLLCHECKPOINTS SOLO EN MOBILE
   Archivo: src/styles/components/conflicts-fix.css
   
   ⚠️  IMPORTANTE: Este archivo debe importarse DESPUÉS de checkpoint-projects.css
   ========================================================================== */

/* ==========================================================================
   MOBILE OVERRIDES - DESACTIVAR SISTEMA DE CHECKPOINTS
   ========================================================================== */

@media (max-width: 767px) {
  
  /* 1. DESACTIVAR SCROLL SNAPPING GLOBAL */
  html {
    scroll-snap-type: none !important;
    scroll-behavior: smooth;
  }
  
  body {
    scroll-snap-type: none !important;
  }
  
  /* 2. OCULTAR NAVEGACIÓN DE CHECKPOINTS COMPLETAMENTE EN MOBILE */
  .scroll-indicators {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
  }
  
  .section-nav {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
  }
  
  .back-to-top-button {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
  }
  
  .scroll-progress {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
  }
  
  .checkpoint-title {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
  }
  
  /* 3. DESACTIVAR ALTURA FORZADA DE CHECKPOINTS */
  .checkpoint-item {
    height: auto !important;
    min-height: auto !important;
    scroll-snap-align: none !important;
    scroll-snap-stop: normal !important;
    padding: 0 !important;
    display: none !important; /* Ocultar completamente el sistema de checkpoints */
  }
  
  .checkpoints-main-container {
    display: none !important; /* Ocultar contenedor de checkpoints */
  }
  
  /* 4. DESACTIVAR CARDS DEL SISTEMA CHECKPOINTS */
  .project-card-red,
  .project-card-celeste,
  .project-card-expanded-full,
  .project-checkpoint-dual {
    display: none !important;
  }
  
  /* 5. ELIMINAR Z-INDEX CONFLICTIVOS */
  .scroll-indicators,
  .section-nav,
  .back-to-top-button,
  .scroll-progress,
  .checkpoint-title {
    z-index: -1 !important;
  }
  
  /* 6. DESACTIVAR MODAL DE IMÁGENES DE CHECKPOINTS */
  .image-modal-overlay {
    display: none !important;
  }
  
  /* 7. ASEGURAR QUE MOBILE-PROJECTS.CSS TOME PRIORIDAD */
  .mobile-projects-container {
    display: flex !important;
    flex-direction: column !important;
  }
  
  .mobile-project-card {
    display: block !important;
  }
}

/* ==========================================================================
   DESKTOP OVERRIDES - MANTENER CHECKPOINTS PERO OPTIMIZAR
   ========================================================================== */

@media (min-width: 768px) {
  
  /* OCULTAR MOBILE STYLES EN DESKTOP */
  .mobile-projects-container {
    display: none !important;
  }
  
  .mobile-project-card {
    display: none !important;
  }
  
  /* OCULTAR TÍTULO DUPLICADO DE SCROLLCHECKPOINTS */
  .checkpoints-title {
    display: none !important; /* Ocultar el título duplicado del ScrollCheckpoints */
  }
  
  /* ASEGURAR CHECKPOINTS FUNCIONEN EN DESKTOP */
  .checkpoints-main-container {
    display: block !important;
  }
  
  .checkpoint-item {
    display: flex !important;
    min-height: 100vh;
    height: auto;
    scroll-snap-align: start;
    scroll-snap-stop: normal;
  }
  
  /* Hacer scroll snapping más suave en desktop */
  html {
    scroll-snap-type: y proximity; /* Más suave que mandatory */
  }
  
  /* Navegación más discreta en desktop */
  .scroll-indicators {
    opacity: 0.7;
    transition: opacity 0.3s ease;
    display: flex !important;
  }
  
  .scroll-indicators:hover {
    opacity: 1;
  }
  
  .section-nav {
    opacity: 0.8;
    transition: opacity 0.3s ease;
    display: flex !important;
  }
  
  .section-nav:hover {
    opacity: 1;
  }
  
  .scroll-progress {
    display: block !important;
  }
}

/* ==========================================================================
   TABLET OVERRIDES - SIMPLIFICAR CHECKPOINTS
   ========================================================================== */

@media (min-width: 768px) and (max-width: 1023px) {
  
  /* Simplificar navegación en tablet */
  .scroll-indicators {
    right: 1rem;
    padding: 0.75rem 0.5rem;
    gap: 0.5rem;
  }
  
  .scroll-indicator {
    width: 12px;
    height: 12px;
  }
  
  .section-nav {
    bottom: 1rem;
    padding: 0.5rem 1rem;
    font-size: 0.75rem;
  }
  
  /* Reducir altura de checkpoints en tablet */
  .checkpoint-item {
    min-height: 80vh;
    padding: 1.5rem;
  }
  
  .project-checkpoint-dual {
    grid-template-columns: 1fr;
    gap: 2rem;
  }
}

/* ==========================================================================
   GLOBAL OVERRIDES - PREVENIR CONFLICTOS GENERALES
   ========================================================================== */

/* Prevenir que el sistema de checkpoints interfiera con otros componentes */
body.loading .scroll-indicators,
body.loading .section-nav,
body.loading .back-to-top-button,
body.loading .scroll-progress {
  display: none !important;
}

/* Asegurar que modales tengan prioridad sobre checkpoints */
.projects-modal-overlay {
  z-index: 70 !important; /* Mayor que checkpoints */
}

.image-modal-overlay {
  z-index: 65 !important;
}

/* Prevenir scroll horizontal causado por checkpoints */
body {
  overflow-x: hidden;
}

.checkpoint-item,
.checkpoints-main-container {
  overflow-x: hidden;
  max-width: 100vw;
}

/* ==========================================================================
   PERFORMANCE OPTIMIZATIONS
   ========================================================================== */

@media (max-width: 767px) {
  
  /* Desactivar will-change en mobile para mejor performance */
  .project-card-red,
  .project-card-celeste,
  .project-card-expanded-full {
    will-change: auto !important;
    transform: none !important;
  }
  
  /* Desactivar animaciones costosas en mobile */
  .checkpoint-item,
  .project-checkpoint-dual,
  .scroll-indicators,
  .section-nav {
    animation: none !important;
    transition: none !important;
  }
}

/* ==========================================================================
   ACCESSIBILITY FIXES
   ========================================================================== */

@media (prefers-reduced-motion: reduce) {
  .checkpoint-item,
  .scroll-indicators,
  .section-nav,
  .back-to-top-button {
    animation: none !important;
    transition: none !important;
  }
}

/* Screen readers */
@media (prefers-reduced-motion) {
  .scroll-indicators::after {
    display: none; /* Ocultar tooltips para screen readers */
  }
}