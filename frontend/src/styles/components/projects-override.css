/* ==========================================================================
   PROJECTS OVERRIDE - ELIMINAR SISTEMA DE CHECKPOINTS COMPLETAMENTE
   Archivo: src/styles/components/projects-override.css
   
   ⚠️ IMPORTANTE: Este archivo debe importarse DESPUÉS de todos los otros
   estilos para hacer override completo del sistema de checkpoints.
   ========================================================================== */

/* ==========================================================================
   ELIMINAR SCROLL SNAPPING GLOBAL
   ========================================================================== */

html,
body {
  scroll-snap-type: none !important;
  scroll-behavior: smooth !important;
}

html.loading,
body.loading {
  scroll-snap-type: none !important;
}

/* ==========================================================================
   DESACTIVAR COMPLETAMENTE TODOS LOS ELEMENTOS DE CHECKPOINTS
   ========================================================================== */

/* Ocultar navegación de checkpoints */
.scroll-indicators,
.section-nav,
.back-to-top-button,
.scroll-progress,
.checkpoint-title {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
  z-index: -999 !important;
}

/* Ocultar containers de checkpoints */
.checkpoints-main-container,
.checkpoint-item,
.project-checkpoint-dual {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
}

/* Ocultar cards específicas de checkpoints */
.project-card-red,
.project-card-celeste,
.project-card-expanded-full {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
}

/* Eliminar cualquier modal de checkpoints */
.image-modal-overlay {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  z-index: -999 !important;
}

/* ==========================================================================
   ASEGURAR QUE SOLO SE MUESTRE EL NUEVO SISTEMA
   ========================================================================== */

/* Mostrar solo el nuevo sistema */
.projects-section-container {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: relative !important;
  height: auto !important;
  min-height: auto !important;
  scroll-snap-align: none !important;
  scroll-snap-stop: normal !important;
}

.mobile-projects-container,
.desktop-projects-container {
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
}

.mobile-project-card,
.desktop-project-section,
.project-dual-cards,
.desktop-project-card-left,
.desktop-project-card-right {
  display: flex !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* ==========================================================================
   RESETEAR CUALQUIER INTERFERENCIA DE ALTURA/POSICIÓN
   ========================================================================== */

/* Resetear alturas forzadas */
section#projects {
  height: auto !important;
  min-height: auto !important;
  scroll-snap-align: none !important;
  scroll-snap-stop: normal !important;
}

/* Resetear cualquier posición sticky o fixed problemática */
.projects-section-container .sticky,
.projects-section-container .fixed {
  position: static !important;
}

/* Resetear z-index problemáticos */
.projects-section-container * {
  z-index: auto !important;
}

.projects-modal-overlay {
  z-index: 60 !important; /* Solo el modal nuevo debe tener z-index alto */
}

/* ==========================================================================
   ELIMINAR ANIMACIONES DE ENTRADA DE CHECKPOINTS
   ========================================================================== */

/* Desactivar animaciones de checkpoints */
@keyframes checkpointFadeIn {
  from { opacity: 0; }
  to { opacity: 0; }
}

.checkpoint-item.active {
  animation: none !important;
  transform: none !important;
}

/* ==========================================================================
   RESPONSIVE OVERRIDES
   ========================================================================== */

@media (max-width: 767px) {
  /* En mobile, asegurar que no hay ningún rastro de checkpoints */
  .scroll-indicators,
  .section-nav,
  .back-to-top-button,
  .scroll-progress,
  .checkpoint-title,
  .checkpoints-main-container,
  .checkpoint-item,
  .project-checkpoint-dual,
  .project-card-red,
  .project-card-celeste,
  .project-card-expanded-full,
  .image-modal-overlay {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
    position: absolute !important;
    left: -9999px !important;
    top: -9999px !important;
  }
  
  /* Mostrar solo mobile */
  .mobile-projects-container {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: static !important;
    left: auto !important;
    top: auto !important;
  }
  
  .desktop-projects-container {
    display: none !important;
  }
}

@media (min-width: 768px) {
  /* En desktop, asegurar que no hay checkpoints */
  .scroll-indicators,
  .section-nav,
  .back-to-top-button,
  .scroll-progress,
  .checkpoint-title,
  .checkpoints-main-container,
  .checkpoint-item,
  .project-checkpoint-dual,
  .project-card-red,
  .project-card-celeste,
  .project-card-expanded-full,
  .image-modal-overlay {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
    position: absolute !important;
    left: -9999px !important;
    top: -9999px !important;
  }
  
  /* Mostrar solo desktop */
  .desktop-projects-container {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    position: static !important;
    left: auto !important;
    top: auto !important;
  }
  
  .mobile-projects-container {
    display: none !important;
  }
}

/* ==========================================================================
   ELIMINAR EVENT LISTENERS Y OBSERVERS
   ========================================================================== */

/* Desactivar cualquier scroll listener */
body.no-scroll-listeners {
  pointer-events: auto !important;
}

/* Resetear intersection observers */
.projects-section-container [id] {
  scroll-margin-top: 0 !important;
  scroll-margin-bottom: 0 !important;
}

/* ==========================================================================
   DEBUGGING (DESCOMENTA PARA VER QUÉ ESTÁ ACTIVO)
   ========================================================================== */

/*
.mobile-projects-container {
  border: 3px solid green !important;
  background: rgba(0, 255, 0, 0.1) !important;
}

.desktop-projects-container {
  border: 3px solid blue !important;
  background: rgba(0, 0, 255, 0.1) !important;
}

.scroll-indicators,
.section-nav,
.checkpoint-item {
  border: 3px solid red !important;
  background: rgba(255, 0, 0, 0.5) !important;
}
*/

/* ==========================================================================
   PERFORMANCE Y CLEANUP
   ========================================================================== */

/* Eliminar will-change de elementos ocultos */
.scroll-indicators,
.section-nav,
.checkpoint-item,
.project-card-red,
.project-card-celeste {
  will-change: auto !important;
  transform: none !important;
  transition: none !important;
}

/* Cleanup de memoria */
.checkpoints-main-container *,
.checkpoint-item *,
.scroll-indicators *,
.section-nav * {
  animation: none !important;
  transition: none !important;
  transform: none !important;
  will-change: auto !important;
}

/* ==========================================================================
   PRINT OVERRIDES
   ========================================================================== */

@media print {
  .scroll-indicators,
  .section-nav,
  .back-to-top-button,
  .scroll-progress,
  .checkpoint-title,
  .checkpoints-main-container,
  .checkpoint-item,
  .project-checkpoint-dual,
  .project-card-red,
  .project-card-celeste,
  .project-card-expanded-full,
  .image-modal-overlay {
    display: none !important;
  }
  
  .mobile-projects-container,
  .desktop-projects-container {
    display: flex !important;
    position: static !important;
  }
}

/* ==========================================================================
   ACCESIBILIDAD
   ========================================================================== */

/* Screen readers - ignorar elementos ocultos */
.scroll-indicators,
.section-nav,
.checkpoint-item,
.project-card-red,
.project-card-celeste {
  aria-hidden: true;
  speak: none;
}

/* Focus trap prevention */
.scroll-indicators *,
.section-nav *,
.checkpoint-item * {
  tabindex: -1 !important;
}

/* ==========================================================================
   FINAL CLEANUP
   ========================================================================== */

/* Último override para asegurar limpieza total */
body:not(.loading) .scroll-indicators,
body:not(.loading) .section-nav,
body:not(.loading) .checkpoint-item,
body:not(.loading) .checkpoints-main-container {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
  position: absolute !important;
  left: -9999px !important;
  top: -9999px !important;
  width: 0 !important;
  height: 0 !important;
  overflow: hidden !important;
}

/* Asegurar que el nuevo sistema funcione */
body:not(.loading) .projects-section-container {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  position: relative !important;
  left: auto !important;
  top: auto !important;
  width: auto !important;
  height: auto !important;
  overflow: visible !important;
}